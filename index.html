<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Cat√°logo</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #939393;
  padding: 20px;
}

.producto {
  background: #dddddd;
  padding: 20px;
  margin-bottom: 20px;
  border-radius: 8px;
}

.producto img {
  width: 100%;
  max-width: 250px;
  display: block;
  margin: 0 auto 10px auto;
  border-radius: 8px;
}

button {
  margin: 5px 0;
  padding: 8px;
  cursor: pointer;
}

.sabor-btn {
  display: block;
  width: 100%;
}

li {
  margin-bottom: 8px;
}
</style>
</head>

<body>

<h1>Cat√°logo</h1>

<!-- PRODUCTO -->
<div class="producto">
  <h3>Waka Sopro 15000 hits</h3>

  <img src="wakasopro15000.jpg" alt="Waka Sopro 15000">

  <p><strong>Precio:</strong> $350 MXN</p>

  <button class="sabor-btn" onclick="agregarProducto('Waka Sopro 15000','Strawberry Kiwi',350)">
    Agregar Strawberry Kiwi
  </button>

  <button class="sabor-btn" onclick="agregarProducto('Waka Sopro 15000','Fruit Punch',350)">
    Agregar Fruit Punch
  </button>

  <button class="sabor-btn" onclick="agregarProducto('Waka Sopro 15000','Mango Ice',350)">
    Agregar Mango Ice
  </button>

  <button class="sabor-btn" onclick="agregarProducto('Waka Sopro 15000','Blueberry',350)">
    Agregar Blueberry
  </button>
</div>

<h2>Tu pedido</h2>
<ul id="carrito"></ul>

<p><strong>Total: $<span id="total">0</span> MXN</strong></p>

<button onclick="vaciarCarrito()">üóëÔ∏è Vaciar carrito</button>
<br><br>
<button onclick="enviarWhatsApp()">Enviar pedido por WhatsApp</button>

<script>
let carrito = [];

function agregarProducto(nombre, sabor, precio) {
  let existente = carrito.find(
    item => item.nombre === nombre && item.sabor === sabor
  );

  if (existente) {
    existente.cantidad++;
  } else {
    carrito.push({ nombre, sabor, precio, cantidad: 1 });
  }

  actualizarCarrito();
}

function quitarProducto(index) {
  carrito.splice(index, 1);
  actualizarCarrito();
}

function vaciarCarrito() {
  carrito = [];
  actualizarCarrito();
}

function actualizarCarrito() {
  let ul = document.getElementById("carrito");
  let totalSpan = document.getElementById("total");

  ul.innerHTML = "";
  let total = 0;

  carrito.forEach((item, index) => {
    let subtotal = item.precio * item.cantidad;
    total += subtotal;

    let li = document.createElement("li");
    li.innerHTML = `
      ${item.nombre} - ${item.sabor}
      <br>
      Cantidad: ${item.cantidad} | Subtotal: $${subtotal} MXN
      <button onclick="quitarProducto(${index})">‚ùå</button>
    `;
    ul.appendChild(li);
  });

  totalSpan.textContent = total;
}

function enviarWhatsApp() {
  let mensaje = "Hola, quiero pedir:\n";

  carrito.forEach(item => {
    mensaje += `- ${item.nombre} (${item.sabor}) x${item.cantidad} = $${item.precio * item.cantidad} MXN\n`;
  });

  mensaje += `\nTotal: $${document.getElementById("total").textContent} MXN`;

  let telefono = "529841964069";
  let url = `https://wa.me/${telefono}?text=${encodeURIComponent(mensaje)}`;
  window.open(url);
}
</script>

</body>
</html>
