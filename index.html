<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cat√°logo Vapes</title>

<style>
body {
  font-family: Arial, sans-serif;
  margin: 0;
  padding: 0;
  color: #fff;
  background: url("Fondovape4.jpg") no-repeat center center fixed;
  background-size: cover;
}

h1 {
  text-align: center;
}

.container {
  text-align: center;
  padding: 15px;
}

/* PRODUCTOS */
.producto {
  background: rgba(20,20,20,.9);
  padding: 15px;
  margin: 20px auto;
  border-radius: 12px;
  display: inline-block;
  width: fit-content;
  max-width: 95vw;
}

.producto img {
  width: 220px;
  display: block;
  margin: 0 auto 10px;
  border-radius: 10px;
}

.precio {
  font-size: 18px;
  font-weight: bold;
}

.descripcion {
  font-size: 14px;
  margin-bottom: 5px;
}

.promo {
  font-size: 13px;
  opacity: .9;
  margin-bottom: 10px;
}

/* BOTONES */
button {
  padding: 10px;
  margin: 5px 0;
  width: 100%;
  border-radius: 8px;
  border: none;
  font-size: 16px;
  cursor: pointer;
}

.sabor-btn {
  background: #746399;
  color: white;
}

/* CARRITO */
#cartIcon {
  position: fixed;
  bottom: 15px;
  right: 15px;
  background: #746399;
  color: white;
  width: 55px;
  height: 55px;
  border-radius: 50%;
  font-size: 26px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  z-index: 1000;
}

#carritoFlotante {
  position: fixed;
  bottom: 80px;
  right: 15px;
  background: #222;
  width: 220px;
  padding: 12px;
  border-radius: 12px;
  display: none;
  z-index: 999;
}

#carritoFlotante h3 {
  margin-top: 0;
  text-align: center;
}

li {
  list-style: none;
  background: #111;
  padding: 6px;
  margin-bottom: 5px;
  border-radius: 6px;
  font-size: 14px;
}

.cantidad-btn {
  padding: 4px 6px;
  margin: 0 3px;
}

/* QR */
.qr img {
  width: 120px;
  margin-top: 20px;
}
</style>
</head>

<body>

<div class="container">
<h1>Cat√°logo de Vapes</h1>

<!-- WAKA -->
<div class="producto">
<img src="wakasopro15000.jpg">
<h3>Waka Sopro 15000</h3>
<p class="precio">$350 MXN</p>
<p class="promo">üî• 2x $600 | 3x $850 | 4x $1100</p>

<button class="sabor-btn" onclick="agregarProducto('Waka','Strawberry Kiwi',350)">Strawberry Kiwi</button>
<button class="sabor-btn" onclick="agregarProducto('Waka','Fruit Punch',350)">Fruit Punch</button>
<button class="sabor-btn" onclick="agregarProducto('Waka','Mango Ice',350)">Mango Ice</button>
<button class="sabor-btn" onclick="agregarProducto('Waka','Blueberry',350)">Blueberry</button>
</div>

<!-- DEATHROW -->
<div class="producto">
<img src="DeathRow7000.jpg">
<h3>DeathRow 7000</h3>
<p class="precio">$100 MXN</p>
<p class="promo">üî• 2x $180 | 3x $250 | 4x $320</p>

<button class="sabor-btn" onclick="agregarProducto('DeathRow','Watermelon Ice',100)">Watermelon Ice</button>
<button class="sabor-btn" onclick="agregarProducto('DeathRow','Strawberry Ice',100)">Strawberry Ice</button>
<button class="sabor-btn" onclick="agregarProducto('DeathRow','Blue Razz',100)">Blue Razz</button>
<button class="sabor-btn" onclick="agregarProducto('DeathRow','Grape Ice',100)">Grape Ice</button>
<button class="sabor-btn" onclick="agregarProducto('DeathRow','Mango',100)">Mango</button>
</div>

<!-- SNOOPY -->
<div class="producto">
<img src="SnoopySmoke15000.jpg">
<h3>SnoopySmoke 15000</h3>
<p class="precio">$100 MXN</p>
<p class="promo">üî• 2x $180 | 3x $250 | 4x $320</p>

<button class="sabor-btn" onclick="agregarProducto('Snoopy','Peach Ice',100)">Peach Ice</button>
<button class="sabor-btn" onclick="agregarProducto('Snoopy','Strawberry Banana',100)">Strawberry Banana</button>
<button class="sabor-btn" onclick="agregarProducto('Snoopy','Blueberry',100)">Blueberry</button>
<button class="sabor-btn" onclick="agregarProducto('Snoopy','Watermelon',100)">Watermelon</button>
<button class="sabor-btn" onclick="agregarProducto('Snoopy','Mint',100)">Mint</button>
</div>

<div class="qr">
<img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=https://mundovapeoss.github.io/catalogo/index.html">
</div>
</div>

<!-- ICONO -->
<div id="cartIcon" onclick="toggleCarrito()">üõí</div>

<!-- CARRITO -->
<div id="carritoFlotante">
<h3>Tu pedido ‚ùå</h3>
<ul id="carrito"></ul>
<p><b>Total: $<span id="total">0</span> MXN</b></p>
<button onclick="vaciarCarrito()">Vaciar</button>
<button onclick="enviarWhatsApp()">WhatsApp</button>
</div>

<script>
let carrito = [];

const promos = {
  Waka: {2:600,3:850,4:1100},
  DeathRow: {2:180,3:250,4:320},
  Snoopy: {2:180,3:250,4:320}
};

function agregarProducto(nombre, sabor, precio) {
  carrito.push({nombre,sabor,precio});
  actualizarCarrito();
}

function calcularTotal() {
  let total = 0;
  let conteo = {};

  carrito.forEach(p=>{
    conteo[p.nombre] = (conteo[p.nombre] || 0) + 1;
  });

  for (let prod in conteo) {
    let cant = conteo[prod];
    if (promos[prod] && promos[prod][cant]) {
      total += promos[prod][cant];
    } else {
      total += cant * carrito.find(p=>p.nombre===prod).precio;
    }
  }
  return total;
}

function actualizarCarrito() {
  let ul = document.getElementById("carrito");
  ul.innerHTML = "";
  carrito.forEach(p=>{
    ul.innerHTML += `<li>${p.nombre} - ${p.sabor}</li>`;
  });
  document.getElementById("total").textContent = calcularTotal();
}

function vaciarCarrito() {
  carrito = [];
  actualizarCarrito();
}

function toggleCarrito() {
  let c = document.getElementById("carritoFlotante");
  c.style.display = c.style.display === "none" ? "block" : "none";
}

function enviarWhatsApp() {
  let msg = "Hola, quiero pedir:\n";
  carrito.forEach(p=>msg+=`- ${p.nombre} ${p.sabor}\n`);
  msg+=`\nTotal: $${calcularTotal()} MXN`;
  window.open(`https://wa.me/529841964069?text=${encodeURIComponent(msg)}`);
}
</script>

</body>
</html>
